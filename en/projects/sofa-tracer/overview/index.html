<!doctype html><html><head><title>SOFATracker overview · dromara(Open source organization)</title><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge,chrome=1"><meta name=viewport content="width=device-width,minimum-scale=1"><meta name=description content="The girl on the prairie"><meta name=generator content="Hugo 0.55.5"><link rel="shortcut icon" href=/img/favicon.png type=image/png><link href=https://unpkg.com/purecss@1.0.0/build/base-min.css rel=stylesheet><link href=/css/main.css rel=stylesheet><link href=/css/zoom-image.css rel=stylesheet><script src=/js/iconfont.js></script><script src=/js/highlight.pack.js></script><script>hljs.initHighlightingOnLoad();</script><script>window.SITE_LANGUAGE="en"</script><script src=/js/app.js></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-187960192-2','auto');ga('send','pageview');}</script></head><body><header class=ss-header><nav class=navbar role=navigation aria-label="main navigation"><div class=navbar-brand><a class=logo-link href=/en/><img class=logo src=/img/logo.png></a><div class=-show-mobile><a id=mobile-menu-icon><svg class="icon" aria-hidden="true"><use xlink:href="#icon-menu"/></svg></a><nav id=mobile-menu><div id=js-menu-search-mobile class=navbar-search-mobile><input class=input placeholder=Search><svg class="icon" aria-hidden="true"><use xlink:href="#icon-search"/></svg></div><a href=/en/projects/><span>Projects</span><svg class="icon" aria-hidden="true"><use xlink:href="#icon-ARROW"/></svg></a>
<a href=/en/guides/><span>Guides</span><svg class="icon" aria-hidden="true"><use xlink:href="#icon-ARROW"/></svg></a>
<a href=/en/blog/><span>Blog</span><svg class="icon" aria-hidden="true"><use xlink:href="#icon-ARROW"/></svg></a>
<a href=/en/activities/><span>Activity</span><svg class="icon" aria-hidden="true"><use xlink:href="#icon-ARROW"/></svg></a>
<a href=/awesome/><span>Awesome Dromara</span><svg class="icon" aria-hidden="true"><use xlink:href="#icon-ARROW"/></svg></a>
<a href=/projects/sofa-tracer/overview/><span>中文</span><svg class="icon" aria-hidden="true"><use xlink:href="#icon-transfer"/></svg></a></nav></div></div><div class="navbar-menu -hidden-mobile"><div class=navbar-start><a class=navbar-item href=/en/projects/>Projects</a>
<a class=navbar-item href=/en/guides/>Guides</a>
<a class=navbar-item href=/en/blog/>Blog</a>
<a class=navbar-item href=/en/activities/>Activity</a>
<a class=navbar-item href=/awesome/>Awesome Dromara</a></div><div class=navbar-end><div class=navbar-item><div id=js-menu-search class=navbar-search><input class=input placeholder=Search><svg class="icon" aria-hidden="true"><use xlink:href="#icon-search"/></svg></div></div><div class=navbar-item><a class=translation href=/projects/sofa-tracer/overview/>中</a></div></div></div></nav></header><div class=ss-layout-container><aside class="ss-layout-aside -left ss-card -soft-hidden"></aside><main class="ss-layout-main -card"><div class=ss-meta><div class=container><h1 class=title>SOFATracker overview</h1><a class="edit-button -hidden-mobile" href=https://github.com/dromara/edit/master/content/en/projects/sofa-tracer/overview/index.md>Edit</a></div><div class=meta>Update time: 2021-01-24</div></div><article class=typo><p>SOFATracer is a distributed link tracing system based on <a href=http://opentracing.io/documentation/pages/spec.html>OpenTracing specification</a> developed by Ant Financial. Its core concept is to concatenate the same request distributed on each service node with a global <code>TraceId</code>. By the unified <code>TraceId</code>, it can record the various network call information in the call link in logs, and can remotely report the call records to <a href=https://zipkin.io/>Zipkin</a> for presentation, thus implementing perspective network call.</p><h2 id=features>Features</h2><h3 id=distributed-link-tracing-solution-based-on-opentracing-specification>Distributed link tracing solution based on OpenTracing specification</h3><p>SOFATracer is a solution that provides link tracing based on and improved from the <a href=http://opentracing.io/documentation/pages/spec.html>OpenTracing specification</a>. Based on this implementation, each framework or component can provide the ability to link tracking by burying points.</p><h3 id=provide-asynchronous-log-printing-to-disks>Provide asynchronous log printing to disks</h3><p>Based on high-performance lock-free loop queue of <a href=https://github.com/LMAX-Exchange/disruptor>Disruptor</a>, SOFATracer provides the ability to print logs asynchronously to local disk. The introduced framework or component can customize the output format of the log file under the premise of asynchronous log printing. SOFATracer provides two types of logs, digest log and statistical log. Digest log: logs that are printed to disk upon each call. Statistical log: logs that are printed at regular intervals.</p><h3 id=support-automatic-log-cleanup-and-scrolling>Support automatic log cleanup and scrolling</h3><p>Asynchronous SOFATracer log supports automatic cleanup and scrolling, and supports cleaning by day and scrolling by hour or day.</p><h3 id=extended-based-on-slf4j-mdc>Extended based on SLF4J MDC</h3><p>SLF4J provides MDC (Mapped Diagnostic Contexts), which supports user to define and modify the output log format and content. SOFATracer integrates the SLF4J MDC function, which allows user to output the <code>TraceId</code> and <code>SpanId</code> of the current Tracer context by simply modifying the log configuration file.</p><h3 id=interface-presentation>Interface presentation</h3><p>SOFATracer can remotely report link tracing data to the open-source product <a href=https://zipkin.io/>Zipkin</a> for distributed link tracing presentation.</p><h3 id=unified-configuration>Unified configuration</h3><p>The profile file provides various configuration options for you to customize the individual requirements of the application.</p><h2 id=scenario>Scenario</h2><p>SOFATracer solves the problem of link tracing when implementing large-scale microservice architecture, achieves perspective network call, and can be used to rapidly Failures Discovery, Service Governance, and so on.</p><h2 id=component-event-tracking>Component event tracking</h2><p>At present, SOFATracer supports Spring MVC, database connection pool (DBCP, Druid, c3p0, tomcat, HikariCP, BoneCP) acheived by standard JDBC interface, HttpClient and other open-source components. Event tracking for other open-source components (such as MQ, Redis) is still in development.</p><table><thead><tr><th>Component</th><th>Document</th><th>Version</th></tr></thead><tbody><tr><td>Spring MVC</td><td><a href=../usage-of-mvc>doc link</a></td><td>2.1.0</td></tr><tr><td>DBCP</td><td><a href=../usage-of-datasource>doc link</a></td><td>2.2.0</td></tr><tr><td>Druid</td><td><a href=../usage-of-datasource>doc link</a></td><td>2.2.0</td></tr><tr><td>C3p0</td><td><a href=../usage-of-datasource>doc link</a></td><td>2.2.0</td></tr><tr><td>HikariCP</td><td><a href=../usage-of-datasource>doc link</a></td><td>2.2.0</td></tr><tr><td>HttpClient</td><td><a href=../usage-of-datasource>doc link</a></td><td>2.2.0</td></tr><tr><td>RestTemplate</td><td><a href=../usage-of-resttemplate>doc link</a></td><td>2.3.0</td></tr><tr><td>OkHttp</td><td><a href=../usage-of-okhttp>doc link</a></td><td>2.3.2</td></tr><tr><td>Dubbo</td><td><a href=../usage-of-dubbo>doc link</a></td><td>2.4.0</td></tr><tr><td>OpenFeign</td><td><a href=../usage-of-dubbo>doc link</a></td><td>3.0.4</td></tr><tr><td>Redis</td><td>TODO</td><td></td></tr><tr><td>MQ</td><td>TODO</td><td></td></tr></tbody></table></article></main></div><footer class=ss-footer><div class=container><div class=links><div class=cate><h2 class=cate-title>Resources</h2><a class=link href=https://github.com/dromara>Github</a>
<a class=link href=https://gitee.com/shuaiqiyu>Gitee</a></div><div class=cate><h2 class=cate-title>Get Involved</h2><a class=link href=https://github.com/dromara/soul/issues/new>Feedback</a>
<a class=link href=/community>Community</a>
<a class=link href=/blog>Blog</a></div><div class=cate><h2 class=cate-title>Document</h2><a class=link href=/projects/soul/overview/>Soul</a>
<a class=link href=/projects/hmily/overview/>Hmily</a>
<a class=link href=/projects/raincat/overview/>Raincat</a>
<a class=link href=/projects/myth/overview/>Myth</a></div></div><div class=qrcode><div><img class=qrcode-img src=/img/qrcode/qrcode_1.png><p class=qrcode-desc>Wechat Official Account</p></div><div><img class=qrcode-img src=/img/qrcode/qrcode_2.png><p class=qrcode-desc>QQ Group</p></div></div></div><div class=copyright><p>Copyright ©2021
<a href=/>xiaoyu@apache.org by xiaoyu</a></p></div></footer></body></html>